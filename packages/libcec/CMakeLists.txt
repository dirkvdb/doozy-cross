SET(MAJOR 3)
SET(MINOR 0)
SET(REVISION 1)
SET(NAME libcec)
SET(PACKAGE ${NAME}-${MAJOR}.${MINOR}.${REVISION})

EXTERNALPROJECT_ADD(${NAME}
    DEPENDS libplatform
    URL https://github.com/Pulse-Eight/libcec/archive/${PACKAGE}.tar.gz TIMEOUT 30
    INSTALL_DIR ${CMAKE_BINARY_DIR}/local
    #PATCH_COMMAND patch -p1 < ${CMAKE_CURRENT_SOURCE_DIR}/staticlib.patch && patch -p1 < ${CMAKE_CURRENT_SOURCE_DIR}/libceconly.patch
    PATCH_COMMAND patch -p1 < ${CMAKE_CURRENT_SOURCE_DIR}/libceconly.patch
    CMAKE_ARGS ${EXTRA_OPTS} -DSKIP_PYTHON_WRAPPER=1 -DRPI_INCLUDE_DIR=<INSTALL_DIR>/include -DRPI_LIB_DIR=<INSTALL_DIR>/lib -DCMAKE_BUILD_TYPE=${CMAKE_BUILD_TYPE} -DCMAKE_INSTALL_PREFIX=<INSTALL_DIR> -DCMAKE_TOOLCHAIN_FILE=${CMAKE_TOOLCHAIN_FILE}
)
